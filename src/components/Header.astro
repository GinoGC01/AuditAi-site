---
import Bot from '../Icons/Bot.astro'
import Exit from '../Icons/Exit.astro'
import MenuHamburguesa from '../Icons/MenuHamb.astro'
---

<header class="flex justify-between relative py-6 px-10 md:px-0 md:py-0 md:items-center md:px-40 md:py-8" id="header">
      <span class="flex gap-2 items-center justify-center hover:scale-105 transition-transform duration-300">
          <a href="/" class="text-white text-2xl md:text-2xl">AuditAi</a>
          <Bot width="32" height="32" color="white"/>
      </span>
      <button id="hamburger" class="md:hidden text-white text-xl"><MenuHamburguesa width="32" height="32"/></button>
      <button id="hamburger-close" class="md:hidden text-white text-xl hidden z-50"><Exit width="32" height="32"/></button>

      <ul class="flex flex-col gap-4 p-4 pt-[100px] backdrop-blur-md text-slate-700 absolute z-50 -left-[1000px] top-[10px] h-screen w-2/3
      md:flex md:h-auto md:w-auto md:flex-row md:bg-transparent md:after:content-none md:pt-0 md:relative md:left-0 md:gap-10
      after:content-[''] after:block after:h-full after:w-[1px] after:bg-slate-500 after:absolute after:right-0 after:top-0 after:bg-gradient-to-t after:from-sky-500 after:to-indigo-500 text-white
      transition-all duration-300 ease-in-out " id="menu">
        <li><a href="/nosotros" class="hover:text-sky-500 text-l">Nosotros</a></li>
        <li><a href="/funciones" class="hover:text-sky-500 text-l">Funciones</a></li>
        <li><a href="/demo" class="hover:text-sky-500 text-l">DEMO</a></li>
        <li>
            <a href="/contacto"
              class="hover:text-white text-xl md:hover:border-indigo-400 md:hover:scale-110
                      transition-all duration-300 font-semibold
                      bg-gradient-to-r from-blue-600 to-teal-400
                      text-transparent bg-clip-text md:border md:border-indigo-600 md:rounded-xl md:p-2">
              Contacto
            </a>
        </li>
        <div class="hidden md:absolute top-0 right-0 text-slate-300">
          <span class="cursor-pointer hover:text-white">Iniciar sesi√≥n</span>
          <button class="cursor-pointer rounded-lg bg-gradient-to-r from-blue-800 via-indigo-700 to-teal-600 p-0.5 ml-5 hover:shadow-md transition-shadow hover:shadow-black/50">
            <div class="flex items-center justify-center bg-neutral-950 back rounded-lg">
              <h1 class="text-white px-2 py-1">Crear cuenta</h1>
            </div>
          </button>
        </div>
        <a href="/" class="absolute top-[10px] flex gap-2 md:hidden">
            <span class="bg-gradient-to-r from-blue-600 to-teal-400 text-transparent bg-clip-text text-3xl">AuditAi</span>
            <Bot width="32" height="32" color="white"/>
        </a>
      </ul>
      <div class="w-[100vw] h-[120vh] absolute top-0 left-0 z-10 bg-black/50 hidden transition-all delay-300 duration-300 ease-in-out " id="background"></div>
    </header>

<script>
const hamburger = document.getElementById('hamburger') as HTMLButtonElement
const menu = document.getElementById('menu') as HTMLButtonElement
const hamburgerClose = document.getElementById('hamburger-close') as HTMLButtonElement
const background = document.getElementById('background') as HTMLButtonElement

hamburger.addEventListener('click', () => {
  menu.style.left = '0px'
  hamburger.classList.add('hidden')
  hamburgerClose.classList.remove('hidden')
  background.classList.remove('hidden')
})

hamburgerClose.addEventListener('click', () => {
  menu.style.left = '-1000px'
  hamburger.classList.remove('hidden')
  hamburgerClose.classList.add('hidden')
  background.classList.add('hidden')
})

window.addEventListener('scroll', () => {
  if (window.scrollY > 0 && window.innerWidth <= 768) {
    menu.style.left = '-1000px'
    hamburger.classList.remove('hidden')
    hamburgerClose.classList.add('hidden')
    background.classList.add('hidden')
  }
})

background.addEventListener('click', () => {
  menu.style.left = '-1000px'
  hamburger.classList.remove('hidden')
  hamburgerClose.classList.add('hidden')
  background.classList.add('hidden')
})
</script>
